# LEGO Train Controller - Environment Configuration Template
# Copy this file to .env and configure with your values

# ===========================================
# Server Configuration
# ===========================================
HOST=0.0.0.0
PORT=8000

# ===========================================
# Security Configuration
# ===========================================

# API Keys (comma-separated list)
# Generate secure keys with: python -c "import secrets; print(secrets.token_urlsafe(32))"
# Example: API_KEYS=key1_abc123,key2_def456
API_KEYS=your-secret-api-key-here

# CORS Allowed Origins (comma-separated list)
# Use "*" to allow all origins (NOT recommended for production)
# Example for Flutter app: ALLOWED_ORIGINS=http://localhost:8080,capacitor://localhost
ALLOWED_ORIGINS=http://localhost:8080,capacitor://localhost,http://192.168.86.39:8080

# Require authentication (true/false)
# Set to false for development/testing (NOT recommended for production)
REQUIRE_AUTH=true

# ===========================================
# Logging Configuration
# ===========================================

# Log level: DEBUG, INFO, WARNING, ERROR, CRITICAL
LOG_LEVEL=INFO

# Log format: json or text
LOG_FORMAT=json

# Log file path (optional, leave empty for stdout only)
# Example: LOG_FILE=/var/log/lego-controller.log
LOG_FILE=

# ===========================================
# Bluetooth Configuration
# ===========================================

# Reset Bluetooth adapter on service startup (true/false)
BLUETOOTH_RESET_ON_STARTUP=true

# Maximum simultaneous connections
MAX_TRAIN_CONNECTIONS=10
MAX_SWITCH_CONNECTIONS=10

# LEGO Hub UUIDs (usually don't need to change these)
LEGO_SERVICE_UUID=00001623-1212-efde-1623-785feabcd123
LEGO_CHAR_UUID=00001624-1212-efde-1623-785feabcd123
LEGO_MANUFACTURER_ID=919

# ===========================================
# Timing Configuration
# ===========================================

# Status update interval in seconds (how often to poll active devices)
STATUS_UPDATE_INTERVAL=0.1

# Inactive device threshold in seconds (mark device offline after this time)
INACTIVE_DEVICE_THRESHOLD=5.0

# Command retry delay in seconds (base delay, increases with each retry)
COMMAND_RETRY_DELAY=0.5

# Maximum number of retry attempts for failed commands
MAX_COMMAND_RETRIES=3

# ===========================================
# Validation Configuration
# ===========================================

# Train power value range
POWER_MIN=-100
POWER_MAX=100

# Valid switch names (comma-separated)
VALID_SWITCH_NAMES=A,B,C,D

# Valid switch positions (comma-separated)
VALID_SWITCH_POSITIONS=STRAIGHT,DIVERGING
